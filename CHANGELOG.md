### Changelog

All notable changes to this project will be documented in this file. Dates are displayed in UTC.

Generated by [`auto-changelog`](https://github.com/CookPete/auto-changelog).

#### [v1.16.3](https://github.com/pagopa/io-functions-bonus/compare/v1.16.2...v1.16.3)

> 28 June 2020

- hotfix: change log level [`a51b232`](https://github.com/pagopa/io-functions-bonus/commit/a51b2327544c6dd48182117eb952188e78e7a175)
- fix codecov badge links [`fbaf834`](https://github.com/pagopa/io-functions-bonus/commit/fbaf83443e62f92cdee3e98674e464c14bb3ba24)

#### [v1.16.2](https://github.com/pagopa/io-functions-bonus/compare/v1.16.1...v1.16.2)

> 28 June 2020

- Additional tests for handlers and activities [`#95`](https://github.com/pagopa/io-functions-bonus/pull/95)
- hotfix: add license [`ac5bc89`](https://github.com/pagopa/io-functions-bonus/commit/ac5bc89d7dd2cd07ff1cdce1a3d492907309af0b)
- chore: release 1.16.2 [`dfbd225`](https://github.com/pagopa/io-functions-bonus/commit/dfbd225e0289de13a7d5f322358ffbe571e08719)
- Adds codecov badge [`2bf9b38`](https://github.com/pagopa/io-functions-bonus/commit/2bf9b38ff28c638f676ca7694f3e51351c38e1d2)

#### [v1.16.1](https://github.com/pagopa/io-functions-bonus/compare/v1.16.0...v1.16.1)

> 27 June 2020

- [#173432219] Fix check for active bonus [`#132`](https://github.com/pagopa/io-functions-bonus/pull/132)
- [#173432219] Fix check for active bonus (#132) [`#173432219`](https://www.pivotaltracker.com/story/show/173432219)
- chore: release 1.16.1 [`97c2fcc`](https://github.com/pagopa/io-functions-bonus/commit/97c2fcc2017c8f45be8a625bd6348d3e9321fcd8)

#### [v1.16.0](https://github.com/pagopa/io-functions-bonus/compare/v1.15.0...v1.16.0)

> 27 June 2020

- [#173432219] Send a specific message in case the bonus activation is running (or not) [`#120`](https://github.com/pagopa/io-functions-bonus/pull/120)
- [#173432219] Send a specific message in case the bonus activation is running (or not) (#120) [`#173432219`](https://www.pivotaltracker.com/story/show/173432219)
- chore: release 1.16.0 [`3e77630`](https://github.com/pagopa/io-functions-bonus/commit/3e77630ebfe5179723f46987b492a9c534dd223f)

#### [v1.15.0](https://github.com/pagopa/io-functions-bonus/compare/v1.14.2...v1.15.0)

> 27 June 2020

- [#173545093] Store fiscal code as partition key [`#131`](https://github.com/pagopa/io-functions-bonus/pull/131)
- [#173545093] Store fiscal code as partition key (#131) [`#173545093`](https://www.pivotaltracker.com/story/show/173545093)
- hotfix: document env variables [`2e24404`](https://github.com/pagopa/io-functions-bonus/commit/2e24404ef2fb628a698b43961142d0ac62c2381c)
- chore: release 1.15.0 [`6b03dad`](https://github.com/pagopa/io-functions-bonus/commit/6b03dad423124acf151628f39a1698f465e91013)

#### [v1.14.2](https://github.com/pagopa/io-functions-bonus/compare/v1.14.1...v1.14.2)

> 26 June 2020

- [#173538811] Fix INPS parsing [`#130`](https://github.com/pagopa/io-functions-bonus/pull/130)
- [#173491648] DSU is invalid if requester fiscalcode isn't inside family members [`#129`](https://github.com/pagopa/io-functions-bonus/pull/129)
- [#173528043] Send push notification when EligibilityCheckActivity fails [`#128`](https://github.com/pagopa/io-functions-bonus/pull/128)
- [#173528232] Better error handling in StartBonusActivationOrchestrator [`#127`](https://github.com/pagopa/io-functions-bonus/pull/127)
- [#173154240] Review retry policies [`#125`](https://github.com/pagopa/io-functions-bonus/pull/125)
- [#173515025] added a check on lock release [`#126`](https://github.com/pagopa/io-functions-bonus/pull/126)
- [#173538811] Fix INPS parsing (#130) [`#173538811`](https://www.pivotaltracker.com/story/show/173538811)
- [#173491648] DSU is invalid if requester fiscalcode isn't inside family members (#129) [`#173491648`](https://www.pivotaltracker.com/story/show/173491648)
- [#173528043] Send push notification when EligibilityCheckActivity fails (#128) [`#173528043`](https://www.pivotaltracker.com/story/show/173528043)
- [#173528232] Better error handling in StartBonusActivationOrchestrator (#127) [`#173528232`](https://www.pivotaltracker.com/story/show/173528232)
- [#173154240] Review retry policies (#125) [`#173154240`](https://www.pivotaltracker.com/story/show/173154240)
- [#173515025] added a check on lock release (#126) [`#173515025`](https://www.pivotaltracker.com/story/show/173515025)
- chore: release 1.14.2 [`6c8cf45`](https://github.com/pagopa/io-functions-bonus/commit/6c8cf454134e491c91cb34371ef430d47fb43ab6)
- hotfix: cosmetic changes [`13c6b59`](https://github.com/pagopa/io-functions-bonus/commit/13c6b59b4e51e11df7ebae7ba4818c1488db6b55)
- hotfix: renamed dir [`18a093c`](https://github.com/pagopa/io-functions-bonus/commit/18a093c4d80f08c573817d311713f52288baff58)

#### [v1.14.1](https://github.com/pagopa/io-functions-bonus/compare/v1.14.0...v1.14.1)

> 25 June 2020

- chore: release 1.14.1 [`c5b1c6a`](https://github.com/pagopa/io-functions-bonus/commit/c5b1c6acf6041a48d67ab68f2118943519f99265)
- hotfix: create lease collection [`81d9fa1`](https://github.com/pagopa/io-functions-bonus/commit/81d9fa1129049a19290a385e0b63d414cc56dc7a)

#### [v1.14.0](https://github.com/pagopa/io-functions-bonus/compare/v1.13.1...v1.14.0)

> 25 June 2020

- CTA inserted on notification messages [`#124`](https://github.com/pagopa/io-functions-bonus/pull/124)
- [#173433777] Add Activity for update BonusLease lock with bonusId [`#115`](https://github.com/pagopa/io-functions-bonus/pull/115)
- [#173508477] Fix INPS identity parameters [`#123`](https://github.com/pagopa/io-functions-bonus/pull/123)
- [#173433777] Add Activity for update BonusLease lock with bonusId (#115) [`#173433777`](https://www.pivotaltracker.com/story/show/173433777)
- [#173508477] Fix INPS identity parameters (#123) [`#173508477`](https://www.pivotaltracker.com/story/show/173508477)
- chore: release 1.14.0 [`b32a02d`](https://github.com/pagopa/io-functions-bonus/commit/b32a02d705a98fadf11f35705cc2f1c68c41dabf)

#### [v1.13.1](https://github.com/pagopa/io-functions-bonus/compare/v1.13.0...v1.13.1)

> 25 June 2020

- chore: release 1.13.1 [`a27d226`](https://github.com/pagopa/io-functions-bonus/commit/a27d2263941772222fca4b6566dd630a290f6b22)
- hotfix: linting [`3418a6c`](https://github.com/pagopa/io-functions-bonus/commit/3418a6c75410f69d0b803e7f9721c40ad6ce1742)

#### [v1.13.0](https://github.com/pagopa/io-functions-bonus/compare/v1.12.5...v1.13.0)

> 25 June 2020

- [#173418759] Use queue SDK instead of binding to allow rollback [`#122`](https://github.com/pagopa/io-functions-bonus/pull/122)
- [#173457665] test release user lock [`#121`](https://github.com/pagopa/io-functions-bonus/pull/121)
- test for getSendMessageActivityHandler [`#119`](https://github.com/pagopa/io-functions-bonus/pull/119)
- [#173457665] tests for StartBonusActivationOrchestrator [`#116`](https://github.com/pagopa/io-functions-bonus/pull/116)
- [#173418759] Use queue SDK instead of binding to allow rollback (#122) [`#173418759`](https://www.pivotaltracker.com/story/show/173418759)
- [#173457665] test release user lock (#121) [`#173457665`](https://www.pivotaltracker.com/story/show/173457665)
- [#173457665] tests for StartBonusActivationOrchestrator (#116) [`#173457665`](https://www.pivotaltracker.com/story/show/173457665)
- chore: release 1.13.0 [`b0b9ba8`](https://github.com/pagopa/io-functions-bonus/commit/b0b9ba87e840e58a578015b3c496c222b5b07410)
- hotfix: xml header [`e2b9083`](https://github.com/pagopa/io-functions-bonus/commit/e2b9083258e9b0d78e35e651da778e3b60f4921d)

#### [v1.12.5](https://github.com/pagopa/io-functions-bonus/compare/v1.12.4...v1.12.5)

> 23 June 2020

- chore: release 1.12.5 [`49e5ca2`](https://github.com/pagopa/io-functions-bonus/commit/49e5ca2c8c8f623d13f6979149c696a3d2eb69b9)
- hotfix: ade tracer fix [`ebc021d`](https://github.com/pagopa/io-functions-bonus/commit/ebc021d7d222c951944dd45b8ff582c7d0b7d0e6)

#### [v1.12.4](https://github.com/pagopa/io-functions-bonus/compare/v1.12.3...v1.12.4)

> 23 June 2020

- chore: release 1.12.4 [`ed3da0d`](https://github.com/pagopa/io-functions-bonus/commit/ed3da0d5a8a71fb6199ccca23d6d7341f7e57b5b)
- hotfix: more tracer logs [`3097504`](https://github.com/pagopa/io-functions-bonus/commit/309750420ae270dfde9b4f920840127be44353ef)

#### [v1.12.3](https://github.com/pagopa/io-functions-bonus/compare/v1.12.2...v1.12.3)

> 23 June 2020

- chore: release 1.12.3 [`f13cfc4`](https://github.com/pagopa/io-functions-bonus/commit/f13cfc4339f601033242b7a01bfbcf1b689b0b5d)
- hotfix: inps tracer [`005648b`](https://github.com/pagopa/io-functions-bonus/commit/005648b0bdef31b378d71dd257de5e33fcd9f010)

#### [v1.12.2](https://github.com/pagopa/io-functions-bonus/compare/v1.12.1...v1.12.2)

> 23 June 2020

- Fix ADE call error logic [`#117`](https://github.com/pagopa/io-functions-bonus/pull/117)
- chore: release 1.12.2 [`40fbedf`](https://github.com/pagopa/io-functions-bonus/commit/40fbedf7d0348ec68ecba86953faa1dee8b39377)

#### [v1.12.1](https://github.com/pagopa/io-functions-bonus/compare/v1.12.0...v1.12.1)

> 23 June 2020

- chore: release 1.12.1 [`1508720`](https://github.com/pagopa/io-functions-bonus/commit/1508720637325951769ac9fe0e3c2f0e9a513b4e)
- hotfix: real todos [`01da4d8`](https://github.com/pagopa/io-functions-bonus/commit/01da4d83dc417a1e916151b16fea316f7b11e4c5)

#### [v1.12.0](https://github.com/pagopa/io-functions-bonus/compare/v1.11.0...v1.12.0)

> 23 June 2020

- [#173432184] Add expire date to notification on bonus activation failure [`#109`](https://github.com/pagopa/io-functions-bonus/pull/109)
- [#173432184] Add expire date to notification on bonus activation failure (#109) [`#173432184`](https://www.pivotaltracker.com/story/show/173432184)
- chore: release 1.12.0 [`347b1f8`](https://github.com/pagopa/io-functions-bonus/commit/347b1f8b3c84945209f635139c31661c7e2e604b)

#### [v1.11.0](https://github.com/pagopa/io-functions-bonus/compare/v1.10.0...v1.11.0)

> 23 June 2020

- [#173154240] Review BonusActivation flow [`#111`](https://github.com/pagopa/io-functions-bonus/pull/111)
- [#173432184] - notification messages adjustments [`#110`](https://github.com/pagopa/io-functions-bonus/pull/110)
- [#173432107], [#173436083] Add bonus activation lock [`#113`](https://github.com/pagopa/io-functions-bonus/pull/113)
- [#173457665] tests for ReleaseFamilyLockActivity [`#114`](https://github.com/pagopa/io-functions-bonus/pull/114)
- more test [`#112`](https://github.com/pagopa/io-functions-bonus/pull/112)
- Refactors StartBonusActivation for readability and testsability [`#108`](https://github.com/pagopa/io-functions-bonus/pull/108)
- [#173414872] Add table service logger [`#103`](https://github.com/pagopa/io-functions-bonus/pull/103)
- [#173154240] Review BonusActivation flow (#111) [`#173154240`](https://www.pivotaltracker.com/story/show/173154240)
- [#173432184] - notification messages adjustments (#110) [`#173432184`](https://www.pivotaltracker.com/story/show/173432184)
- [#173432107], [#173436083] Add bonus activation lock (#113) [`#173432107`](https://www.pivotaltracker.com/story/show/173432107) [`#173436083`](https://www.pivotaltracker.com/story/show/173436083)
- [#173457665] tests for ReleaseFamilyLockActivity (#114) [`#173457665`](https://www.pivotaltracker.com/story/show/173457665)
- [#173414872] Add table service logger (#103) [`#173414872`](https://www.pivotaltracker.com/story/show/173414872)
- chore: release 1.11.0 [`e92f81f`](https://github.com/pagopa/io-functions-bonus/commit/e92f81f24db389829b9ff441f555c26bd0bbe031)
- Revert "hotfix: update durable function client" [`82847e6`](https://github.com/pagopa/io-functions-bonus/commit/82847e672fdecc25ea5e3544edd80e2f0718d399)
- hotfix: update durable function client [`0f5c58f`](https://github.com/pagopa/io-functions-bonus/commit/0f5c58fbe41452cac1f173aa09446ffc84cead08)

#### [v1.10.0](https://github.com/pagopa/io-functions-bonus/compare/v1.9.0...v1.10.0)

> 22 June 2020

- #173443020] Move bonus activation retrieval into its own activity [`#107`](https://github.com/pagopa/io-functions-bonus/pull/107)
- [#173449222] Release lock in case the bonus activation fails [`#106`](https://github.com/pagopa/io-functions-bonus/pull/106)
- [#173442921] Fix decoding of retrieved objects [`#105`](https://github.com/pagopa/io-functions-bonus/pull/105)
- Refactor cosmosdb service directory [`#102`](https://github.com/pagopa/io-functions-bonus/pull/102)
- [#173266483] Track decoding errors [`#101`](https://github.com/pagopa/io-functions-bonus/pull/101)
- Better logging for orchestrator failures [`#100`](https://github.com/pagopa/io-functions-bonus/pull/100)
- [#173449222] Release lock in case the bonus activation fails (#106) [`#173449222`](https://www.pivotaltracker.com/story/show/173449222)
- [#173442921] Fix decoding of retrieved objects (#105) [`#173442921`](https://www.pivotaltracker.com/story/show/173442921)
- [#173266483] Track decoding errors (#101) [`#173266483`](https://www.pivotaltracker.com/story/show/173266483)
- chore: release 1.10.0 [`a2b69e5`](https://github.com/pagopa/io-functions-bonus/commit/a2b69e5007eec92dcba73d7221845ca58e55c759)
- hotfix: comments [`859d6b9`](https://github.com/pagopa/io-functions-bonus/commit/859d6b9285e429a28ad0ec32040ca43f95a58fe5)
- hotfix: fix debugger settings [`aabd4ca`](https://github.com/pagopa/io-functions-bonus/commit/aabd4caea5fa56ac8a82aa8da20519dc9e97b2da)

#### [v1.9.0](https://github.com/pagopa/io-functions-bonus/compare/v1.8.0...v1.9.0)

> 21 June 2020

- [#173154240] callActivityWithRetry for all Activity invocations [`#94`](https://github.com/pagopa/io-functions-bonus/pull/94)
- [#173401371] Wrap application insights call [`#99`](https://github.com/pagopa/io-functions-bonus/pull/99)
- [#173108021], [#173324857] Add bonus activation messages [`#98`](https://github.com/pagopa/io-functions-bonus/pull/98)
- [#173431164] Add getProfile call to SendMessageActivity [`#97`](https://github.com/pagopa/io-functions-bonus/pull/97)
- [#173421860], [#173423382] Return the bonusID when bonus activation is running [`#96`](https://github.com/pagopa/io-functions-bonus/pull/96)
- [#173288435] Send Message after bonus activation (success and failure) [`#93`](https://github.com/pagopa/io-functions-bonus/pull/93)
- Hotfix: verbose logging [`#92`](https://github.com/pagopa/io-functions-bonus/pull/92)
- [#173154240] callActivityWithRetry for all Activity invocations (#94) [`#173154240`](https://www.pivotaltracker.com/story/show/173154240)
- [#173401371] Wrap application insights call (#99) [`#173401371`](https://www.pivotaltracker.com/story/show/173401371)
- [#173108021], [#173324857] Add bonus activation messages (#98) [`#173108021`](https://www.pivotaltracker.com/story/show/173108021) [`#173324857`](https://www.pivotaltracker.com/story/show/173324857)
- [#173431164] Add getProfile call to SendMessageActivity (#97) [`#173431164`](https://www.pivotaltracker.com/story/show/173431164)
- [#173421860], [#173423382] Return the bonusID when bonus activation is running (#96) [`#173421860`](https://www.pivotaltracker.com/story/show/173421860) [`#173423382`](https://www.pivotaltracker.com/story/show/173423382)
- [#173288435] Send Message after bonus activation (success and failure) (#93) [`#173288435`](https://www.pivotaltracker.com/story/show/173288435)
- chore: release 1.9.0 [`77fcd00`](https://github.com/pagopa/io-functions-bonus/commit/77fcd00ec216ab1308b99988376059abc7df30b6)
- hotfix: new env var [`8936385`](https://github.com/pagopa/io-functions-bonus/commit/89363851fda58b212007514cb3b41113d8a0c6a6)

#### [v1.8.0](https://github.com/pagopa/io-functions-bonus/compare/v1.7.1...v1.8.0)

> 19 June 2020

- [#173356449] Asynchronous processing of bonus activations [`#90`](https://github.com/pagopa/io-functions-bonus/pull/90)
- fix [`#89`](https://github.com/pagopa/io-functions-bonus/pull/89)
- [#173398696] Handle base64 HMAC binary secret [`#88`](https://github.com/pagopa/io-functions-bonus/pull/88)
- Use Strong consistency when handling Bonus records [`#87`](https://github.com/pagopa/io-functions-bonus/pull/87)
- [#173394178] DSU duration as variable [`#86`](https://github.com/pagopa/io-functions-bonus/pull/86)
- [#173356449] Asynchronous processing of bonus activations (#90) [`#173356449`](https://www.pivotaltracker.com/story/show/173356449)
- [#173398696] Handle base64 HMAC binary secret (#88) [`#173398696`](https://www.pivotaltracker.com/story/show/173398696)
- [#173394178] DSU duration as variable (#86) [`#173394178`](https://www.pivotaltracker.com/story/show/173394178)
- chore: release 1.8.0 [`98ff72e`](https://github.com/pagopa/io-functions-bonus/commit/98ff72e3007d291b576d813d680d3b01511082b1)
- hotfix: add env to example [`d906ae8`](https://github.com/pagopa/io-functions-bonus/commit/d906ae8dd7f3a025542896a1a86b1c8ef59ffc01)

#### [v1.7.1](https://github.com/pagopa/io-functions-bonus/compare/v1.7.0...v1.7.1)

> 18 June 2020

- hotfix: mock application insights [`63190c9`](https://github.com/pagopa/io-functions-bonus/commit/63190c9285ddb4288a2fd589c28fc37e9071a3f9)
- chore: release 1.7.1 [`cea20fd`](https://github.com/pagopa/io-functions-bonus/commit/cea20fd5a496b1f687d92b054f89e4b10e8c7086)

#### [v1.7.0](https://github.com/pagopa/io-functions-bonus/compare/v1.6.0...v1.7.0)

> 18 June 2020

- [#173266483] Add event tracking [`#70`](https://github.com/pagopa/io-functions-bonus/pull/70)
- [#173388245] make timeout configurable [`#85`](https://github.com/pagopa/io-functions-bonus/pull/85)
- [#173266483] Add event tracking (#70) [`#173266483`](https://www.pivotaltracker.com/story/show/173266483)
- [#173388245] make timeout configurable (#85) [`#173388245`](https://www.pivotaltracker.com/story/show/173388245)
- chore: release 1.7.0 [`4863883`](https://github.com/pagopa/io-functions-bonus/commit/4863883485410200ce45225496752cbdbf1b89e3)

#### [v1.6.0](https://github.com/pagopa/io-functions-bonus/compare/v1.5.0...v1.6.0)

> 17 June 2020

- [#173154240] review retry logic on ADE service [`#83`](https://github.com/pagopa/io-functions-bonus/pull/83)
- Fix: partion key on user bonuses [`#84`](https://github.com/pagopa/io-functions-bonus/pull/84)
- [#173154240] review retry logic on ADE service (#83) [`#173154240`](https://www.pivotaltracker.com/story/show/173154240)
- chore: release 1.6.0 [`57da6be`](https://github.com/pagopa/io-functions-bonus/commit/57da6bea325a599b3936422b647cadf418a715a9)
- fix linter [`c674741`](https://github.com/pagopa/io-functions-bonus/commit/c67474195c7543f86b32473d1d2e0df4bdde41e0)

#### [v1.5.0](https://github.com/pagopa/io-functions-bonus/compare/v1.4.0...v1.5.0)

> 17 June 2020

- improve error logging for SendBonusActivationActivity [`#82`](https://github.com/pagopa/io-functions-bonus/pull/82)
- Hotfix: rename flag difformita [`#81`](https://github.com/pagopa/io-functions-bonus/pull/81)
- [#173357548] update to latest io-functions-commons [`#77`](https://github.com/pagopa/io-functions-bonus/pull/77)
- fixed partition key [`#80`](https://github.com/pagopa/io-functions-bonus/pull/80)
- Add unit tests part 2 [`#78`](https://github.com/pagopa/io-functions-bonus/pull/78)
- [#173376242] Makes bonus amount for 2 people = 300 eur [`#79`](https://github.com/pagopa/io-functions-bonus/pull/79)
- [#173338092] add type validation on activity call [`#74`](https://github.com/pagopa/io-functions-bonus/pull/74)
- Fix protocol parsing [`#76`](https://github.com/pagopa/io-functions-bonus/pull/76)
- [#173357548] update to latest io-functions-commons (#77) [`#173357548`](https://www.pivotaltracker.com/story/show/173357548)
- [#173376242] Makes bonus amount for 2 people = 300 eur (#79) [`#173376242`](https://www.pivotaltracker.com/story/show/173376242)
- [#173338092] add type validation on activity call (#74) [`#173338092`](https://www.pivotaltracker.com/story/show/173338092)
- chore: release 1.5.0 [`50ded6c`](https://github.com/pagopa/io-functions-bonus/commit/50ded6cdd29718a1ee621fee6aa9be7eddb3a68e)
- hotfix: amounts [`19a4cda`](https://github.com/pagopa/io-functions-bonus/commit/19a4cda5e39390d02773a08cb5ae289d0526ec06)

#### [v1.4.0](https://github.com/pagopa/io-functions-bonus/compare/v1.3.0...v1.4.0)

> 16 June 2020

- [#173334290] succeeded bonus activation [`#73`](https://github.com/pagopa/io-functions-bonus/pull/73)
- [#173334290] on failed bonus activation [`#68`](https://github.com/pagopa/io-functions-bonus/pull/68)
- Add Activity function unit tests part 1 [`#72`](https://github.com/pagopa/io-functions-bonus/pull/72)
- Fix: update io-ts-commons to fix retry [`#71`](https://github.com/pagopa/io-functions-bonus/pull/71)
- Run yarn-deduplicate to reduce bundle size [`#69`](https://github.com/pagopa/io-functions-bonus/pull/69)
- [#173334290] succeeded bonus activation (#73) [`#173334290`](https://www.pivotaltracker.com/story/show/173334290)
- [#173334290] on failed bonus activation (#68) [`#173334290`](https://www.pivotaltracker.com/story/show/173334290)
- chore: release 1.4.0 [`addcab5`](https://github.com/pagopa/io-functions-bonus/commit/addcab5625cca99e904cacb00098fe2340c0c838)

#### [v1.3.0](https://github.com/pagopa/io-functions-bonus/compare/v1.2.5...v1.3.0)

> 15 June 2020

- [#173332541] Decode items from db [`#67`](https://github.com/pagopa/io-functions-bonus/pull/67)
- [#173283679] Add hmac to ADE call [`#66`](https://github.com/pagopa/io-functions-bonus/pull/66)
- Do not use the any type [`#62`](https://github.com/pagopa/io-functions-bonus/pull/62)
- [#173017733] Call StartBonusActivation orchestrator from controller [`#54`](https://github.com/pagopa/io-functions-bonus/pull/54)
- [#173268109] EligibilityCheck with status conflict when user has Bonus locked [`#52`](https://github.com/pagopa/io-functions-bonus/pull/52)
- [#173285187] introducing type BonusActivationWithFamilyUID [`#51`](https://github.com/pagopa/io-functions-bonus/pull/51)
- [#173255621] Add ADE client cert and key [`#65`](https://github.com/pagopa/io-functions-bonus/pull/65)
- [#173332541] Decode items from db (#67) [`#173332541`](https://www.pivotaltracker.com/story/show/173332541)
- [#173283679] Add hmac to ADE call (#66) [`#173283679`](https://www.pivotaltracker.com/story/show/173283679)
- [#173017733] Call StartBonusActivation orchestrator from controller (#54) [`#173017733`](https://www.pivotaltracker.com/story/show/173017733)
- [#173268109] EligibilityCheck with status conflict when user has Bonus locked (#52) [`#173268109`](https://www.pivotaltracker.com/story/show/173268109)
- [#173285187] introducing type BonusActivationWithFamilyUID (#51) [`#173285187`](https://www.pivotaltracker.com/story/show/173285187)
- [#173255621] Add ADE client cert and key (#65) [`#173255621`](https://www.pivotaltracker.com/story/show/173255621)
- chore: release 1.3.0 [`90e6fd5`](https://github.com/pagopa/io-functions-bonus/commit/90e6fd5012a7663ac2b8c255d55726cf4da34529)

#### [v1.2.5](https://github.com/pagopa/io-functions-bonus/compare/v1.2.4...v1.2.5)

> 15 June 2020

- [#173309312] Fix family member validation [`#64`](https://github.com/pagopa/io-functions-bonus/pull/64)
- Making type safe bonus (take 3) [`#61`](https://github.com/pagopa/io-functions-bonus/pull/61)
- [#173324102] fix encode bug parsing SOAP request [`#63`](https://github.com/pagopa/io-functions-bonus/pull/63)
- [#173309312] Fix family member validation (#64) [`#173309312`](https://www.pivotaltracker.com/story/show/173309312)
- [#173324102] fix encode bug parsing SOAP request (#63) [`#173324102`](https://www.pivotaltracker.com/story/show/173324102)
- hotfix: parse soap isee request [`258a41a`](https://github.com/pagopa/io-functions-bonus/commit/258a41aa4d120e82504ad5c4554aad65a848c55e)
- chore: release 1.2.5 [`f0ba191`](https://github.com/pagopa/io-functions-bonus/commit/f0ba191b4882d82b5215164d083528a3ba93ff33)

#### [v1.2.4](https://github.com/pagopa/io-functions-bonus/compare/v1.2.3...v1.2.4)

> 14 June 2020

- chore: release 1.2.4 [`905da3b`](https://github.com/pagopa/io-functions-bonus/commit/905da3b2e7915058d511bea7426920bb7e433601)
- hotfix: add soap action header [`ab87ffd`](https://github.com/pagopa/io-functions-bonus/commit/ab87ffdbccbb280a2add1678f250037e289eca52)

#### [v1.2.3](https://github.com/pagopa/io-functions-bonus/compare/v1.2.2...v1.2.3)

> 14 June 2020

- hotfix: inps soap client error handling [`3e2e0ab`](https://github.com/pagopa/io-functions-bonus/commit/3e2e0abe5ffbcc82dcff8fa9f358f274d2ef48b9)
- chore: release 1.2.3 [`5b16a1f`](https://github.com/pagopa/io-functions-bonus/commit/5b16a1fefe7dc223a545200488a9bb4e1a4e5447)
- hotfix: verbose error log [`c785047`](https://github.com/pagopa/io-functions-bonus/commit/c785047e3c0e9dd46175a13e6b9dfc8763f29317)

#### [v1.2.2](https://github.com/pagopa/io-functions-bonus/compare/v1.2.1...v1.2.2)

> 14 June 2020

- hotfix: error message instead of object into logs [`4714fc7`](https://github.com/pagopa/io-functions-bonus/commit/4714fc7d914a8fb07affbbcbfdbcf39fc2990c23)
- chore: release 1.2.2 [`40c1145`](https://github.com/pagopa/io-functions-bonus/commit/40c1145d6e2e63106185f1afd36b4c72dfe03f90)

#### [v1.2.1](https://github.com/pagopa/io-functions-bonus/compare/v1.2.0...v1.2.1)

> 14 June 2020

- chore: release 1.2.1 [`bcb559d`](https://github.com/pagopa/io-functions-bonus/commit/bcb559d1970be7fe7dd10529aaf65e61bc925016)
- hotifx: orchestrator entrypoint [`ef08c2d`](https://github.com/pagopa/io-functions-bonus/commit/ef08c2dcac82652c7296beba4048a92ee8d5a9cc)

#### [v1.2.0](https://github.com/pagopa/io-functions-bonus/compare/v1.1.0...v1.2.0)

> 14 June 2020

- Add INPS SOAP parsing tests [`#60`](https://github.com/pagopa/io-functions-bonus/pull/60)
- Add first unit test for EligibilityCheck orchestrator [`#59`](https://github.com/pagopa/io-functions-bonus/pull/59)
- Add eligibility check notifications [`#56`](https://github.com/pagopa/io-functions-bonus/pull/56)
- [#173268109] Bugfix parsing ERRORE_INTERNO SOAP response [`#55`](https://github.com/pagopa/io-functions-bonus/pull/55)
- [#173017733] lock bonus lease [`#48`](https://github.com/pagopa/io-functions-bonus/pull/48)
- Adds type safe check against family member count [`#49`](https://github.com/pagopa/io-functions-bonus/pull/49)
- Adds type safe check against family member count [`#47`](https://github.com/pagopa/io-functions-bonus/pull/47)
- [#173017733] implement bonus creation with retry logic [`#43`](https://github.com/pagopa/io-functions-bonus/pull/43)
- [#173285187] first implementation of lease model [`#46`](https://github.com/pagopa/io-functions-bonus/pull/46)
- [#173017733] Generate familyUID from FamilyMembers [`#45`](https://github.com/pagopa/io-functions-bonus/pull/45)
- [#173017731] Get bonus activations [`#42`](https://github.com/pagopa/io-functions-bonus/pull/42)
- [#173268109] Bugfix parsing ERRORE_INTERNO SOAP response (#55) [`#173268109`](https://www.pivotaltracker.com/story/show/173268109)
- [#173017733] lock bonus lease (#48) [`#173017733`](https://www.pivotaltracker.com/story/show/173017733)
- [#173017733] implement bonus creation with retry logic (#43) [`#173017733`](https://www.pivotaltracker.com/story/show/173017733)
- [#173285187] first implementation of lease model (#46) [`#173285187`](https://www.pivotaltracker.com/story/show/173285187)
- [#173017733] Generate familyUID from FamilyMembers (#45) [`#173017733`](https://www.pivotaltracker.com/story/show/173017733)
- [#173017731] Get bonus activations (#42) [`#173017731`](https://www.pivotaltracker.com/story/show/173017731)
- chore: release 1.2.0 [`d27ce08`](https://github.com/pagopa/io-functions-bonus/commit/d27ce08446cd38c0ddeb8594dc5144accee8f9c5)
- hotfix: added unit test for inps soap [`bbf91fe`](https://github.com/pagopa/io-functions-bonus/commit/bbf91fecc305ceb63c7337f06a2e77b6b5c792e3)

#### [v1.1.0](https://github.com/pagopa/io-functions-bonus/compare/v1.0.4...v1.1.0)

> 11 June 2020

- [#173256212] Adds client cert support to INPS agent [`#44`](https://github.com/pagopa/io-functions-bonus/pull/44)
- [#173287183] refactor api specs and types [`#41`](https://github.com/pagopa/io-functions-bonus/pull/41)
- [#173262316] Generates BonusCode type from API specs [`#40`](https://github.com/pagopa/io-functions-bonus/pull/40)
- [#173017733] start activation checks and request creation [`#31`](https://github.com/pagopa/io-functions-bonus/pull/31)
- [#173268401] Gone Response for expired DSU [`#39`](https://github.com/pagopa/io-functions-bonus/pull/39)
- [#173168331] store cosmosdb (data) history [`#37`](https://github.com/pagopa/io-functions-bonus/pull/37)
- fix environment variable name [`#38`](https://github.com/pagopa/io-functions-bonus/pull/38)
- [#173106785] send message once eligibility check data is available [`#35`](https://github.com/pagopa/io-functions-bonus/pull/35)
- [#173262316] Implements bonus code generator [`#34`](https://github.com/pagopa/io-functions-bonus/pull/34)
- using builder functions instead of constants [`#33`](https://github.com/pagopa/io-functions-bonus/pull/33)
- [#173256907] add activity to send messages [`#32`](https://github.com/pagopa/io-functions-bonus/pull/32)
- [#173017659] Upsert and Delete EligibilityCheck [`#29`](https://github.com/pagopa/io-functions-bonus/pull/29)
- [#173256701] add redeemed_at [`#28`](https://github.com/pagopa/io-functions-bonus/pull/28)
- [#173191291] Call richiestaBonus API with retry logic [`#27`](https://github.com/pagopa/io-functions-bonus/pull/27)
- [#173248395] refactor models / api types [`#26`](https://github.com/pagopa/io-functions-bonus/pull/26)
- rename consumed into redeeemed [`#25`](https://github.com/pagopa/io-functions-bonus/pull/25)
- [#173191291] ADE http client [`#24`](https://github.com/pagopa/io-functions-bonus/pull/24)
- [#173017392] add bonus activation domain model [`#23`](https://github.com/pagopa/io-functions-bonus/pull/23)
- [#173120210] Implementing Eligibility Check entity models [`#18`](https://github.com/pagopa/io-functions-bonus/pull/18)
- [#173017733] Start bonus activation scaffolding [`#21`](https://github.com/pagopa/io-functions-bonus/pull/21)
- [#173106785] add eligibility check notification activity [`#19`](https://github.com/pagopa/io-functions-bonus/pull/19)
- [#173017659] refactor eligibility check parsing and logic [`#22`](https://github.com/pagopa/io-functions-bonus/pull/22)
- fix amount types [`#20`](https://github.com/pagopa/io-functions-bonus/pull/20)
- [#173256212] Adds client cert support to INPS agent (#44) [`#173256212`](https://www.pivotaltracker.com/story/show/173256212)
- [#173287183] refactor api specs and types (#41) [`#173287183`](https://www.pivotaltracker.com/story/show/173287183)
- [#173262316] Generates BonusCode type from API specs (#40) [`#173262316`](https://www.pivotaltracker.com/story/show/173262316)
- [#173017733] start activation checks and request creation (#31) [`#173017733`](https://www.pivotaltracker.com/story/show/173017733)
- [#173268401] Gone Response for expired DSU (#39) [`#173268401`](https://www.pivotaltracker.com/story/show/173268401)
- [#173168331] store cosmosdb (data) history (#37) [`#173168331`](https://www.pivotaltracker.com/story/show/173168331)
- [#173106785] send message once eligibility check data is available (#35) [`#173106785`](https://www.pivotaltracker.com/story/show/173106785)
- [#173262316] Implements bonus code generator (#34) [`#173262316`](https://www.pivotaltracker.com/story/show/173262316)
- [#173256907] add activity to send messages (#32) [`#173256907`](https://www.pivotaltracker.com/story/show/173256907)
- [#173017659] Upsert and Delete EligibilityCheck (#29) [`#173017659`](https://www.pivotaltracker.com/story/show/173017659)
- [#173256701] add redeemed_at (#28) [`#173256701`](https://www.pivotaltracker.com/story/show/173256701)
- [#173191291] Call richiestaBonus API with retry logic (#27) [`#173191291`](https://www.pivotaltracker.com/story/show/173191291)
- [#173248395] refactor models / api types (#26) [`#173248395`](https://www.pivotaltracker.com/story/show/173248395)
- [#173191291] ADE http client (#24) [`#173191291`](https://www.pivotaltracker.com/story/show/173191291)
- [#173017392] add bonus activation domain model (#23) [`#173017392`](https://www.pivotaltracker.com/story/show/173017392)
- [#173120210] Implementing Eligibility Check entity models (#18) [`#173120210`](https://www.pivotaltracker.com/story/show/173120210)
- [#173017733] Start bonus activation scaffolding (#21) [`#173017733`](https://www.pivotaltracker.com/story/show/173017733)
- [#173106785] add eligibility check notification activity (#19) [`#173106785`](https://www.pivotaltracker.com/story/show/173106785)
- [#173017659] refactor eligibility check parsing and logic (#22) [`#173017659`](https://www.pivotaltracker.com/story/show/173017659)
- hotfix: refactor dev environment [`bf87908`](https://github.com/pagopa/io-functions-bonus/commit/bf87908c7b4604c08ebbe5238cf6dd54451c47fe)
- new ADE specs [`818bba7`](https://github.com/pagopa/io-functions-bonus/commit/818bba74d56260fad302f72347d675a1f7ec5723)
- chore: release 1.1.0 [`0fcfc10`](https://github.com/pagopa/io-functions-bonus/commit/0fcfc102a447c838f910fedb252661474af4cfeb)

#### [v1.0.4](https://github.com/pagopa/io-functions-bonus/compare/v1.0.3...v1.0.4)

> 4 June 2020

- Install functions extensions before deploy [`#17`](https://github.com/pagopa/io-functions-bonus/pull/17)
- [#173104901] Update INPS specs, return EligibilityCheckFailure on error [`#15`](https://github.com/pagopa/io-functions-bonus/pull/15)
- API fixes after review [`#14`](https://github.com/pagopa/io-functions-bonus/pull/14)
- [##173119697] add ADE bonus api specs [`#13`](https://github.com/pagopa/io-functions-bonus/pull/13)
- [#173118535] stop push notification activity [`#12`](https://github.com/pagopa/io-functions-bonus/pull/12)
- [#173109082] change 202 -&gt; 201 in bonus API [`#11`](https://github.com/pagopa/io-functions-bonus/pull/11)
- [#173079838] Complete swagger spec for bonus API [`#9`](https://github.com/pagopa/io-functions-bonus/pull/9)
- [#173017736] GetEligibilityCheck function [`#7`](https://github.com/pagopa/io-functions-bonus/pull/7)
- [#173104901] Update INPS specs, return EligibilityCheckFailure on error (#15) [`#173104901`](https://www.pivotaltracker.com/story/show/173104901)
- [#173118535] stop push notification activity (#12) [`#173118535`](https://www.pivotaltracker.com/story/show/173118535)
- [#173109082] change 202 -&gt; 201 in bonus API (#11) [`#173109082`](https://www.pivotaltracker.com/story/show/173109082)
- [#173079838] Complete swagger spec for bonus API (#9) [`#173079838`](https://www.pivotaltracker.com/story/show/173079838)
- [#173017736] GetEligibilityCheck function (#7) [`#173017736`](https://www.pivotaltracker.com/story/show/173017736)
- chore: release 1.0.4 [`94c4f6b`](https://github.com/pagopa/io-functions-bonus/commit/94c4f6bef04aa1819289edb03fb72e280fd0f08f)
- hotfix: instance id in specs [`fcca5c0`](https://github.com/pagopa/io-functions-bonus/commit/fcca5c0f9c7dcb356d2a2b49bd5754118a72e567)
- add inps proxy [`0e477c6`](https://github.com/pagopa/io-functions-bonus/commit/0e477c6728b43a0e3aa26fe5a2922add1d47d258)

#### [v1.0.3](https://github.com/pagopa/io-functions-bonus/compare/v1.0.2...v1.0.3)

> 29 May 2020

- [#173035929] defined spec first draft [`#6`](https://github.com/pagopa/io-functions-bonus/pull/6)
- [#173035929] defined spec first draft (#6) [`#173035929`](https://www.pivotaltracker.com/story/show/173035929)
- chore: release 1.0.3 [`fe240c3`](https://github.com/pagopa/io-functions-bonus/commit/fe240c3debd8f135f3e6e59207149f07226f2b9f)

#### [v1.0.2](https://github.com/pagopa/io-functions-bonus/compare/v1.0.1...v1.0.2)

> 28 May 2020

- Add Info function [`#8`](https://github.com/pagopa/io-functions-bonus/pull/8)
- chore: release 1.0.2 [`773cf3d`](https://github.com/pagopa/io-functions-bonus/commit/773cf3d1a086e560fdb5e98d964221f4c50d90c2)

#### v1.0.1

> 27 May 2020

- Use parametric task hubname [`#5`](https://github.com/pagopa/io-functions-bonus/pull/5)
- [#172957220] VerificaSoglia ISEE draft (durable function) [`#1`](https://github.com/pagopa/io-functions-bonus/pull/1)
- [#173010116] Added pipeline [`#2`](https://github.com/pagopa/io-functions-bonus/pull/2)
- [#173010116] Set deployToStagingSlot as default in the pipeline [`#173010116`](https://www.pivotaltracker.com/story/show/173010116)
- [#173017659] EligibilityCheck naming pattern [`#173017659`](https://www.pivotaltracker.com/story/show/173017659)
- Merge pull request #1 from pagopa/verifica-soglia-function [`#172957220`](https://www.pivotaltracker.com/story/show/172957220)
- [#173010116] Pipeline problem running on Win [`#173010116`](https://www.pivotaltracker.com/story/show/173010116)
- [#173010116] Pipeline problem running on Win  [`#173010116`](https://www.pivotaltracker.com/story/show/173010116)
- Merge pull request #2 from pagopa/173010116-add-pipeline [`#173010116`](https://www.pivotaltracker.com/story/show/173010116)
- [#173010116] Added pipeline [`#173010116`](https://www.pivotaltracker.com/story/show/173010116)
- Initial commit [`ef29da6`](https://github.com/pagopa/io-functions-bonus/commit/ef29da6659e82ba49021ac5f3dcd7479f102482b)
- Add VerificaSoglia function [`eab3eb7`](https://github.com/pagopa/io-functions-bonus/commit/eab3eb7847976c76633b3b2a94cc9fc5a6df6632)
- upgrade packages [`e97dc32`](https://github.com/pagopa/io-functions-bonus/commit/e97dc32d51fb63b29aa65ded4e7fcecd96868a49)
