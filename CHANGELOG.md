### Changelog

All notable changes to this project will be documented in this file. Dates are displayed in UTC.

Generated by [`auto-changelog`](https://github.com/CookPete/auto-changelog).

#### [v1.4.0](https://github.com/pagopa/io-functions-bonus/compare/v1.3.0...v1.4.0)

> 16 June 2020

- [#173334290] succeeded bonus activation [`#73`](https://github.com/pagopa/io-functions-bonus/pull/73)
- [#173334290] on failed bonus activation [`#68`](https://github.com/pagopa/io-functions-bonus/pull/68)
- Add Activity function unit tests part 1 [`#72`](https://github.com/pagopa/io-functions-bonus/pull/72)
- Fix: update io-ts-commons to fix retry [`#71`](https://github.com/pagopa/io-functions-bonus/pull/71)
- Run yarn-deduplicate to reduce bundle size [`#69`](https://github.com/pagopa/io-functions-bonus/pull/69)
- [#173334290] succeeded bonus activation (#73) [`#173334290`](https://www.pivotaltracker.com/story/show/173334290)
- [#173334290] on failed bonus activation (#68) [`#173334290`](https://www.pivotaltracker.com/story/show/173334290)

#### [v1.3.0](https://github.com/pagopa/io-functions-bonus/compare/v1.2.5...v1.3.0)

> 15 June 2020

- [#173332541] Decode items from db [`#67`](https://github.com/pagopa/io-functions-bonus/pull/67)
- [#173283679] Add hmac to ADE call [`#66`](https://github.com/pagopa/io-functions-bonus/pull/66)
- Do not use the any type [`#62`](https://github.com/pagopa/io-functions-bonus/pull/62)
- [#173017733] Call StartBonusActivation orchestrator from controller [`#54`](https://github.com/pagopa/io-functions-bonus/pull/54)
- [#173268109] EligibilityCheck with status conflict when user has Bonus locked [`#52`](https://github.com/pagopa/io-functions-bonus/pull/52)
- [#173285187] introducing type BonusActivationWithFamilyUID [`#51`](https://github.com/pagopa/io-functions-bonus/pull/51)
- [#173255621] Add ADE client cert and key [`#65`](https://github.com/pagopa/io-functions-bonus/pull/65)
- [#173332541] Decode items from db (#67) [`#173332541`](https://www.pivotaltracker.com/story/show/173332541)
- [#173283679] Add hmac to ADE call (#66) [`#173283679`](https://www.pivotaltracker.com/story/show/173283679)
- [#173017733] Call StartBonusActivation orchestrator from controller (#54) [`#173017733`](https://www.pivotaltracker.com/story/show/173017733)
- [#173268109] EligibilityCheck with status conflict when user has Bonus locked (#52) [`#173268109`](https://www.pivotaltracker.com/story/show/173268109)
- [#173285187] introducing type BonusActivationWithFamilyUID (#51) [`#173285187`](https://www.pivotaltracker.com/story/show/173285187)
- [#173255621] Add ADE client cert and key (#65) [`#173255621`](https://www.pivotaltracker.com/story/show/173255621)
- chore: release 1.3.0 [`90e6fd5`](https://github.com/pagopa/io-functions-bonus/commit/90e6fd5012a7663ac2b8c255d55726cf4da34529)

#### [v1.2.5](https://github.com/pagopa/io-functions-bonus/compare/v1.2.4...v1.2.5)

> 15 June 2020

- [#173309312] Fix family member validation [`#64`](https://github.com/pagopa/io-functions-bonus/pull/64)
- Making type safe bonus (take 3) [`#61`](https://github.com/pagopa/io-functions-bonus/pull/61)
- [#173324102] fix encode bug parsing SOAP request [`#63`](https://github.com/pagopa/io-functions-bonus/pull/63)
- [#173309312] Fix family member validation (#64) [`#173309312`](https://www.pivotaltracker.com/story/show/173309312)
- [#173324102] fix encode bug parsing SOAP request (#63) [`#173324102`](https://www.pivotaltracker.com/story/show/173324102)
- hotfix: parse soap isee request [`258a41a`](https://github.com/pagopa/io-functions-bonus/commit/258a41aa4d120e82504ad5c4554aad65a848c55e)
- chore: release 1.2.5 [`f0ba191`](https://github.com/pagopa/io-functions-bonus/commit/f0ba191b4882d82b5215164d083528a3ba93ff33)

#### [v1.2.4](https://github.com/pagopa/io-functions-bonus/compare/v1.2.3...v1.2.4)

> 14 June 2020

- chore: release 1.2.4 [`905da3b`](https://github.com/pagopa/io-functions-bonus/commit/905da3b2e7915058d511bea7426920bb7e433601)
- hotfix: add soap action header [`ab87ffd`](https://github.com/pagopa/io-functions-bonus/commit/ab87ffdbccbb280a2add1678f250037e289eca52)

#### [v1.2.3](https://github.com/pagopa/io-functions-bonus/compare/v1.2.2...v1.2.3)

> 14 June 2020

- hotfix: inps soap client error handling [`3e2e0ab`](https://github.com/pagopa/io-functions-bonus/commit/3e2e0abe5ffbcc82dcff8fa9f358f274d2ef48b9)
- chore: release 1.2.3 [`5b16a1f`](https://github.com/pagopa/io-functions-bonus/commit/5b16a1fefe7dc223a545200488a9bb4e1a4e5447)
- hotfix: verbose error log [`c785047`](https://github.com/pagopa/io-functions-bonus/commit/c785047e3c0e9dd46175a13e6b9dfc8763f29317)

#### [v1.2.2](https://github.com/pagopa/io-functions-bonus/compare/v1.2.1...v1.2.2)

> 14 June 2020

- hotfix: error message instead of object into logs [`4714fc7`](https://github.com/pagopa/io-functions-bonus/commit/4714fc7d914a8fb07affbbcbfdbcf39fc2990c23)
- chore: release 1.2.2 [`40c1145`](https://github.com/pagopa/io-functions-bonus/commit/40c1145d6e2e63106185f1afd36b4c72dfe03f90)

#### [v1.2.1](https://github.com/pagopa/io-functions-bonus/compare/v1.2.0...v1.2.1)

> 14 June 2020

- chore: release 1.2.1 [`bcb559d`](https://github.com/pagopa/io-functions-bonus/commit/bcb559d1970be7fe7dd10529aaf65e61bc925016)
- hotifx: orchestrator entrypoint [`ef08c2d`](https://github.com/pagopa/io-functions-bonus/commit/ef08c2dcac82652c7296beba4048a92ee8d5a9cc)

#### [v1.2.0](https://github.com/pagopa/io-functions-bonus/compare/v1.1.0...v1.2.0)

> 14 June 2020

- Add INPS SOAP parsing tests [`#60`](https://github.com/pagopa/io-functions-bonus/pull/60)
- Add first unit test for EligibilityCheck orchestrator [`#59`](https://github.com/pagopa/io-functions-bonus/pull/59)
- Add eligibility check notifications [`#56`](https://github.com/pagopa/io-functions-bonus/pull/56)
- [#173268109] Bugfix parsing ERRORE_INTERNO SOAP response [`#55`](https://github.com/pagopa/io-functions-bonus/pull/55)
- [#173017733] lock bonus lease [`#48`](https://github.com/pagopa/io-functions-bonus/pull/48)
- Adds type safe check against family member count [`#49`](https://github.com/pagopa/io-functions-bonus/pull/49)
- Adds type safe check against family member count [`#47`](https://github.com/pagopa/io-functions-bonus/pull/47)
- [#173017733] implement bonus creation with retry logic [`#43`](https://github.com/pagopa/io-functions-bonus/pull/43)
- [#173285187] first implementation of lease model [`#46`](https://github.com/pagopa/io-functions-bonus/pull/46)
- [#173017733] Generate familyUID from FamilyMembers [`#45`](https://github.com/pagopa/io-functions-bonus/pull/45)
- [#173017731] Get bonus activations [`#42`](https://github.com/pagopa/io-functions-bonus/pull/42)
- [#173268109] Bugfix parsing ERRORE_INTERNO SOAP response (#55) [`#173268109`](https://www.pivotaltracker.com/story/show/173268109)
- [#173017733] lock bonus lease (#48) [`#173017733`](https://www.pivotaltracker.com/story/show/173017733)
- [#173017733] implement bonus creation with retry logic (#43) [`#173017733`](https://www.pivotaltracker.com/story/show/173017733)
- [#173285187] first implementation of lease model (#46) [`#173285187`](https://www.pivotaltracker.com/story/show/173285187)
- [#173017733] Generate familyUID from FamilyMembers (#45) [`#173017733`](https://www.pivotaltracker.com/story/show/173017733)
- [#173017731] Get bonus activations (#42) [`#173017731`](https://www.pivotaltracker.com/story/show/173017731)
- chore: release 1.2.0 [`d27ce08`](https://github.com/pagopa/io-functions-bonus/commit/d27ce08446cd38c0ddeb8594dc5144accee8f9c5)
- hotfix: added unit test for inps soap [`bbf91fe`](https://github.com/pagopa/io-functions-bonus/commit/bbf91fecc305ceb63c7337f06a2e77b6b5c792e3)

#### [v1.1.0](https://github.com/pagopa/io-functions-bonus/compare/v1.0.4...v1.1.0)

> 11 June 2020

- [#173256212] Adds client cert support to INPS agent [`#44`](https://github.com/pagopa/io-functions-bonus/pull/44)
- [#173287183] refactor api specs and types [`#41`](https://github.com/pagopa/io-functions-bonus/pull/41)
- [#173262316] Generates BonusCode type from API specs [`#40`](https://github.com/pagopa/io-functions-bonus/pull/40)
- [#173017733] start activation checks and request creation [`#31`](https://github.com/pagopa/io-functions-bonus/pull/31)
- [#173268401] Gone Response for expired DSU [`#39`](https://github.com/pagopa/io-functions-bonus/pull/39)
- [#173168331] store cosmosdb (data) history [`#37`](https://github.com/pagopa/io-functions-bonus/pull/37)
- fix environment variable name [`#38`](https://github.com/pagopa/io-functions-bonus/pull/38)
- [#173106785] send message once eligibility check data is available [`#35`](https://github.com/pagopa/io-functions-bonus/pull/35)
- [#173262316] Implements bonus code generator [`#34`](https://github.com/pagopa/io-functions-bonus/pull/34)
- using builder functions instead of constants [`#33`](https://github.com/pagopa/io-functions-bonus/pull/33)
- [#173256907] add activity to send messages [`#32`](https://github.com/pagopa/io-functions-bonus/pull/32)
- [#173017659] Upsert and Delete EligibilityCheck [`#29`](https://github.com/pagopa/io-functions-bonus/pull/29)
- [#173256701] add redeemed_at [`#28`](https://github.com/pagopa/io-functions-bonus/pull/28)
- [#173191291] Call richiestaBonus API with retry logic [`#27`](https://github.com/pagopa/io-functions-bonus/pull/27)
- [#173248395] refactor models / api types [`#26`](https://github.com/pagopa/io-functions-bonus/pull/26)
- rename consumed into redeeemed [`#25`](https://github.com/pagopa/io-functions-bonus/pull/25)
- [#173191291] ADE http client [`#24`](https://github.com/pagopa/io-functions-bonus/pull/24)
- [#173017392] add bonus activation domain model [`#23`](https://github.com/pagopa/io-functions-bonus/pull/23)
- [#173120210] Implementing Eligibility Check entity models [`#18`](https://github.com/pagopa/io-functions-bonus/pull/18)
- [#173017733] Start bonus activation scaffolding [`#21`](https://github.com/pagopa/io-functions-bonus/pull/21)
- [#173106785] add eligibility check notification activity [`#19`](https://github.com/pagopa/io-functions-bonus/pull/19)
- [#173017659] refactor eligibility check parsing and logic [`#22`](https://github.com/pagopa/io-functions-bonus/pull/22)
- fix amount types [`#20`](https://github.com/pagopa/io-functions-bonus/pull/20)
- [#173256212] Adds client cert support to INPS agent (#44) [`#173256212`](https://www.pivotaltracker.com/story/show/173256212)
- [#173287183] refactor api specs and types (#41) [`#173287183`](https://www.pivotaltracker.com/story/show/173287183)
- [#173262316] Generates BonusCode type from API specs (#40) [`#173262316`](https://www.pivotaltracker.com/story/show/173262316)
- [#173017733] start activation checks and request creation (#31) [`#173017733`](https://www.pivotaltracker.com/story/show/173017733)
- [#173268401] Gone Response for expired DSU (#39) [`#173268401`](https://www.pivotaltracker.com/story/show/173268401)
- [#173168331] store cosmosdb (data) history (#37) [`#173168331`](https://www.pivotaltracker.com/story/show/173168331)
- [#173106785] send message once eligibility check data is available (#35) [`#173106785`](https://www.pivotaltracker.com/story/show/173106785)
- [#173262316] Implements bonus code generator (#34) [`#173262316`](https://www.pivotaltracker.com/story/show/173262316)
- [#173256907] add activity to send messages (#32) [`#173256907`](https://www.pivotaltracker.com/story/show/173256907)
- [#173017659] Upsert and Delete EligibilityCheck (#29) [`#173017659`](https://www.pivotaltracker.com/story/show/173017659)
- [#173256701] add redeemed_at (#28) [`#173256701`](https://www.pivotaltracker.com/story/show/173256701)
- [#173191291] Call richiestaBonus API with retry logic (#27) [`#173191291`](https://www.pivotaltracker.com/story/show/173191291)
- [#173248395] refactor models / api types (#26) [`#173248395`](https://www.pivotaltracker.com/story/show/173248395)
- [#173191291] ADE http client (#24) [`#173191291`](https://www.pivotaltracker.com/story/show/173191291)
- [#173017392] add bonus activation domain model (#23) [`#173017392`](https://www.pivotaltracker.com/story/show/173017392)
- [#173120210] Implementing Eligibility Check entity models (#18) [`#173120210`](https://www.pivotaltracker.com/story/show/173120210)
- [#173017733] Start bonus activation scaffolding (#21) [`#173017733`](https://www.pivotaltracker.com/story/show/173017733)
- [#173106785] add eligibility check notification activity (#19) [`#173106785`](https://www.pivotaltracker.com/story/show/173106785)
- [#173017659] refactor eligibility check parsing and logic (#22) [`#173017659`](https://www.pivotaltracker.com/story/show/173017659)
- hotfix: refactor dev environment [`bf87908`](https://github.com/pagopa/io-functions-bonus/commit/bf87908c7b4604c08ebbe5238cf6dd54451c47fe)
- new ADE specs [`818bba7`](https://github.com/pagopa/io-functions-bonus/commit/818bba74d56260fad302f72347d675a1f7ec5723)
- chore: release 1.1.0 [`0fcfc10`](https://github.com/pagopa/io-functions-bonus/commit/0fcfc102a447c838f910fedb252661474af4cfeb)

#### [v1.0.4](https://github.com/pagopa/io-functions-bonus/compare/v1.0.3...v1.0.4)

> 4 June 2020

- Install functions extensions before deploy [`#17`](https://github.com/pagopa/io-functions-bonus/pull/17)
- [#173104901] Update INPS specs, return EligibilityCheckFailure on error [`#15`](https://github.com/pagopa/io-functions-bonus/pull/15)
- API fixes after review [`#14`](https://github.com/pagopa/io-functions-bonus/pull/14)
- [##173119697] add ADE bonus api specs [`#13`](https://github.com/pagopa/io-functions-bonus/pull/13)
- [#173118535] stop push notification activity [`#12`](https://github.com/pagopa/io-functions-bonus/pull/12)
- [#173109082] change 202 -&gt; 201 in bonus API [`#11`](https://github.com/pagopa/io-functions-bonus/pull/11)
- [#173079838] Complete swagger spec for bonus API [`#9`](https://github.com/pagopa/io-functions-bonus/pull/9)
- [#173017736] GetEligibilityCheck function [`#7`](https://github.com/pagopa/io-functions-bonus/pull/7)
- [#173104901] Update INPS specs, return EligibilityCheckFailure on error (#15) [`#173104901`](https://www.pivotaltracker.com/story/show/173104901)
- [#173118535] stop push notification activity (#12) [`#173118535`](https://www.pivotaltracker.com/story/show/173118535)
- [#173109082] change 202 -&gt; 201 in bonus API (#11) [`#173109082`](https://www.pivotaltracker.com/story/show/173109082)
- [#173079838] Complete swagger spec for bonus API (#9) [`#173079838`](https://www.pivotaltracker.com/story/show/173079838)
- [#173017736] GetEligibilityCheck function (#7) [`#173017736`](https://www.pivotaltracker.com/story/show/173017736)
- chore: release 1.0.4 [`94c4f6b`](https://github.com/pagopa/io-functions-bonus/commit/94c4f6bef04aa1819289edb03fb72e280fd0f08f)
- hotfix: instance id in specs [`fcca5c0`](https://github.com/pagopa/io-functions-bonus/commit/fcca5c0f9c7dcb356d2a2b49bd5754118a72e567)
- add inps proxy [`0e477c6`](https://github.com/pagopa/io-functions-bonus/commit/0e477c6728b43a0e3aa26fe5a2922add1d47d258)

#### [v1.0.3](https://github.com/pagopa/io-functions-bonus/compare/v1.0.2...v1.0.3)

> 29 May 2020

- [#173035929] defined spec first draft [`#6`](https://github.com/pagopa/io-functions-bonus/pull/6)
- [#173035929] defined spec first draft (#6) [`#173035929`](https://www.pivotaltracker.com/story/show/173035929)
- chore: release 1.0.3 [`fe240c3`](https://github.com/pagopa/io-functions-bonus/commit/fe240c3debd8f135f3e6e59207149f07226f2b9f)

#### [v1.0.2](https://github.com/pagopa/io-functions-bonus/compare/v1.0.1...v1.0.2)

> 28 May 2020

- Add Info function [`#8`](https://github.com/pagopa/io-functions-bonus/pull/8)
- chore: release 1.0.2 [`773cf3d`](https://github.com/pagopa/io-functions-bonus/commit/773cf3d1a086e560fdb5e98d964221f4c50d90c2)

#### v1.0.1

> 27 May 2020

- Use parametric task hubname [`#5`](https://github.com/pagopa/io-functions-bonus/pull/5)
- [#172957220] VerificaSoglia ISEE draft (durable function) [`#1`](https://github.com/pagopa/io-functions-bonus/pull/1)
- [#173010116] Added pipeline [`#2`](https://github.com/pagopa/io-functions-bonus/pull/2)
- [#173010116] Set deployToStagingSlot as default in the pipeline [`#173010116`](https://www.pivotaltracker.com/story/show/173010116)
- [#173017659] EligibilityCheck naming pattern [`#173017659`](https://www.pivotaltracker.com/story/show/173017659)
- Merge pull request #1 from pagopa/verifica-soglia-function [`#172957220`](https://www.pivotaltracker.com/story/show/172957220)
- [#173010116] Pipeline problem running on Win [`#173010116`](https://www.pivotaltracker.com/story/show/173010116)
- [#173010116] Pipeline problem running on Win  [`#173010116`](https://www.pivotaltracker.com/story/show/173010116)
- Merge pull request #2 from pagopa/173010116-add-pipeline [`#173010116`](https://www.pivotaltracker.com/story/show/173010116)
- [#173010116] Added pipeline [`#173010116`](https://www.pivotaltracker.com/story/show/173010116)
- Initial commit [`ef29da6`](https://github.com/pagopa/io-functions-bonus/commit/ef29da6659e82ba49021ac5f3dcd7479f102482b)
- Add VerificaSoglia function [`eab3eb7`](https://github.com/pagopa/io-functions-bonus/commit/eab3eb7847976c76633b3b2a94cc9fc5a6df6632)
- upgrade packages [`e97dc32`](https://github.com/pagopa/io-functions-bonus/commit/e97dc32d51fb63b29aa65ded4e7fcecd96868a49)
